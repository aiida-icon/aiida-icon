name: static-analysis

on: [push, pull_request]

jobs:
  static-analysis:
    runs-on: ubuntu-latest
    timeout-minutes: 15
    strategy:
      matrix:
        python-version: ['3.12']

    steps:
    - uses: actions/checkout@v4

    - name: Set up Python ${{matrix.python-version}}
      uses: actions/setup-python@v5
      with:
        python-version: ${{matrix.python-version}}
        
    - name: Setup uv
      uses: andgineer/uv-venv@v1

    - name: install Python dependencies
      run: |
        pip install --upgrade pip 
        pip install pre-commit hatch

    - name: pre-commit
      run: pre-commit run --all-files
